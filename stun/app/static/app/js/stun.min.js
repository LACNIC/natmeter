/**
 * LACNIC Labs.
 * June 2016
 */
STUN={debug:!1};
STUN={urls:{post:STUN.debug&&"http://127.0.0.1:8000/post/"||"https://natmeter.labs.lacnic.net/post/"},results:[],getExperimentId:function(){for(var b="",d=10;0<d;)b+=Math.floor(1E6*Math.random())+"-",d--;return b=b.substring(0,b.length-1)},postResults:function(){$.ajax({type:"POST",url:STUN.urls.post,data:{data:'["'+STUN.results.join('","')+'"]',experiment_id:STUN.getExperimentId(),tester_version:1},success:function(b){return!0},error:function(b,d,c){return!1}})},init:function(b){function d(a){b(a);a=
a.split(" ")[4];-1>=STUN.results.indexOf(a)&&STUN.results.push(a)}STUN.experimentId=STUN.getExperimentId();var c=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;c||(c=iframe.contentWindow,c=c.RTCPeerConnection||c.mozRTCPeerConnection||c.webkitRTCPeerConnection);var e=new c({iceServers:[{urls:"stun:stun4.acostasite.com"}]},{optional:[{RtpDataChannels:!0}]});e.onicecandidate=function(a){a.candidate&&d(a.candidate.candidate)};e.createDataChannel("");e.createOffer(function(a){e.setLocalDescription(a,
function(){},function(){})},function(){});setTimeout(function(){e.localDescription.sdp.split("\n").forEach(function(a){0===a.indexOf("a=candidate:")&&d(a)});STUN.postResults()},1E3)}};ion(){});setTimeout(function(){e.localDescription.sdp.split("\n").forEach(function(a){0===a.indexOf("a=candidate:")&&d(a)});STUN.postResults()},1E3)}};